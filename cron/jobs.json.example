{
  "version": 1,
  "jobs": [
    {
      "id": "GENERATE-UUID-1",
      "agentId": "main",
      "name": "Search Agent",
      "description": "Producer agent: API-first job discovery, scoring, and queue insertion",
      "enabled": true,
      "schedule": {
        "kind": "cron",
        "expr": "0 */2 * * *",
        "tz": "America/Chicago"
      },
      "sessionTarget": "isolated",
      "wakeMode": "now",
      "payload": {
        "kind": "agentTurn",
        "message": "You are the SEARCH AGENT. AGENTS.md has your full instructions.\n\n**START:** exec: python3 scripts/read-memory.py hot\n\n## THIS SESSION — API-FIRST WORKFLOW\n1. Read search-rotation.md — pick DUE boards/queries\n2. Read company-watchlist.md — pick 2-3 DUE companies\n3. Run API search:\n- exec: python3 scripts/search-ashby-api.py --all --add\n- exec: python3 scripts/search-greenhouse-api.py --all --add\n- exec: python3 scripts/search-lever-api.py --all --add\n- exec: python3 scripts/search-vc-boards.py --all --add\n4. Brave API fallback: search, dedup-check, score, add\n5. Browser pass only for LinkedIn/YC/custom boards when needed\n\nCRITICAL:\n- Use exec scripts; do not read large queue/dedup files\n- NEVER apply to jobs in this agent",
        "model": "google/gemini-3-flash-preview",
        "thinking": "low",
        "timeoutSeconds": 900
      },
      "delivery": {
        "mode": "announce",
        "channel": "whatsapp",
        "to": "+1XXXXXXXXXX"
      }
    },
    {
      "id": "GENERATE-UUID-2",
      "agentId": "main",
      "name": "Application Orchestrator",
      "description": "Dispatcher agent: preflight + ATS lock checks + parallel subagent spawn",
      "enabled": true,
      "schedule": {
        "kind": "cron",
        "expr": "*/5 * * * *",
        "tz": "America/Chicago"
      },
      "sessionTarget": "isolated",
      "wakeMode": "now",
      "payload": {
        "kind": "agentTurn",
        "message": "You are the APPLICATION ORCHESTRATOR.\n\nRun this flow only:\n1) exec: python3 scripts/orchestrator-dispatch.py --json\n2) exec: python3 scripts/batch-preflight.py --all --remove --top 12 --timeout 90\n3) For each ATS in [ashby, greenhouse, lever], if ready, spawn ONE subagent in parallel via sessions_spawn.\n\nSpawn requirements:\n- unique label: apply-<ats>-<unix_ms>-<rand4>\n- retry once on \"label already in use\"\n- runTimeoutSeconds: ashby=900, greenhouse=900, lever=600\n- thinking: low\n- cleanup: keep\n\nSubagent task contract (all ATS):\n- lock first, unlock always (scripts/subagent-lock.py)\n- use ATS SKILL.md exactly\n- STRICT browser mode: NEVER action=open, ALWAYS navigate, NEVER pass targetId\n- use queue-summary output directly, process exactly TOP 1 job this run\n- if blocked by captcha/verification, keep pending and continue\n\nAfter spawning, write guardrail log once:\nexec: python3 scripts/log-orchestrator-cycle.py --ashby <...> --greenhouse <...> --lever <...> --runid-ashby \"<...>\" --runid-greenhouse \"<...>\" --runid-lever \"<...>\"\n\nReturn compact ATS lines only (SPAWNED/SKIPPED/ERROR).",
        "model": "google/gemini-3.1-pro-preview",
        "thinking": "low",
        "timeoutSeconds": 180
      },
      "delivery": {
        "mode": "announce",
        "channel": "whatsapp",
        "to": "+1XXXXXXXXXX"
      }
    },
    {
      "id": "GENERATE-UUID-3",
      "agentId": "main",
      "name": "Health + Analysis Monitor",
      "description": "Unified monitor for health checks, scheduler updates, and analysis digests",
      "enabled": true,
      "schedule": {
        "kind": "cron",
        "expr": "*/30 * * * *",
        "tz": "America/Chicago"
      },
      "sessionTarget": "isolated",
      "wakeMode": "now",
      "payload": {
        "kind": "agentTurn",
        "message": "UNIFIED HEALTH + ANALYSIS CYCLE:\n\n1. exec: python3 scripts/health-check.py\n2. exec: python3 scripts/dynamic-scheduler.py\n3. exec: python3 scripts/analyze-logs.py --summary\n4. exec: python3 scripts/read-memory.py stats\n\nFor CRITICAL alerts (stuck agents, repeated failures, token issues):\n- WhatsApp immediately with issue + fix recommendation\n\nFor warnings or regressions:\n- Send concise digest with top findings + suggested fixes\n\nIf all OK and no schedule changes, respond silently.",
        "model": "google/gemini-3-flash-preview",
        "timeoutSeconds": 180
      },
      "delivery": {
        "mode": "announce",
        "channel": "whatsapp",
        "to": "+1XXXXXXXXXX"
      }
    }
  ]
}
